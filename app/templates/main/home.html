{% extends "/main/layout.html" %}

{% block body %}

<div class="container">
    <h2>Your Shifts</h2>
    
    <!-- Upload Form -->
    <form method="POST" action="{{ url_for('main.upload_calendar') }}" class="mb-4">
        <div class="input-group">
            <input type="url" name="webcal_url" placeholder="webcal://your-grs-calendar-link" class="form-control" required>
            <button type="submit" class="btn btn-primary">Upload Calendar</button>
        </div>
    </form>
    
    <!-- Shifts Table -->
    <table class="table">
        <thead>
            <tr>
                <th>Date</th>
                <th>Time</th>
                <th>Summary</th>
            </tr>
        </thead>
        <tbody>
            {% for shift in shifts %}
            <tr>
                <td>{{ shift.start.strftime('%Y-%m-%d') }}</td>
                <td>{{ shift.start.strftime('%H:%M') }} - {{ shift.end.strftime('%H:%M') }}</td>
                <td>{{ shift.summary }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

    <form action="{{ url_for('auth.logout') }}" method="get">
        <button type="submit">Log Out</button>
    </form>

{% endblock %}
